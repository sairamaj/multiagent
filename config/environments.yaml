# Environment-Specific Configuration Overrides
# This file contains environment-specific overrides for development, staging, and production

# Default environment
default:
  environment: "development"
  log_level: "INFO"

# Development Environment
development:
  log_level: "DEBUG"
  
  vm_cleanup:
    keep_latest_count: 3
    age_threshold_days: 7
    require_confirmation: false
    dry_run: true  # Always use dry run in development
  
  blob_retention:
    ci_artifacts:
      keep_latest_count: 3
      age_threshold_days: 30
    vm_images:
      keep_latest_count: 2
      age_threshold_days: 14
  
  build_monitoring:
    check_interval_minutes: 10
    alert_on_failure: false  # Disable alerts in dev
  
  azure_config:
    subscription_id: "${AZURE_DEV_SUBSCRIPTION_ID}"
    resource_group_prefix: "rg-dev-"

# Staging Environment
staging:
  log_level: "INFO"
  
  vm_cleanup:
    keep_latest_count: 5
    age_threshold_days: 30
    require_confirmation: true
    dry_run: false
  
  blob_retention:
    ci_artifacts:
      keep_latest_count: 5
      age_threshold_days: 60
    vm_images:
      keep_latest_count: 3
      age_threshold_days: 45
  
  build_monitoring:
    check_interval_minutes: 5
    alert_on_failure: true
    alert_threshold: 2
  
  azure_config:
    subscription_id: "${AZURE_STG_SUBSCRIPTION_ID}"
    resource_group_prefix: "rg-stg-"

# Production Environment
production:
  log_level: "WARNING"
  
  vm_cleanup:
    keep_latest_count: 10
    age_threshold_days: 90
    require_confirmation: true
    dry_run: false
  
  blob_retention:
    ci_artifacts:
      keep_latest_count: 10
      age_threshold_days: 90
    vm_images:
      keep_latest_count: 5
      age_threshold_days: 60
  
  build_monitoring:
    check_interval_minutes: 5
    alert_on_failure: true
    alert_threshold: 1  # Alert immediately in production
  
  azure_config:
    subscription_id: "${AZURE_PROD_SUBSCRIPTION_ID}"
    resource_group_prefix: "rg-prod-"
  
  safety:
    require_confirmation: true
    max_delete_batch_size: 50  # More conservative in production

# Feature Flags
feature_flags:
  development:
    enable_auto_cleanup: false
    enable_rag: false
    enable_advanced_analytics: true
  
  staging:
    enable_auto_cleanup: true
    enable_rag: false
    enable_advanced_analytics: true
  
  production:
    enable_auto_cleanup: true
    enable_rag: false
    enable_advanced_analytics: true
